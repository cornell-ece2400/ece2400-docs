



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
        <meta name="author" content="Christopher Batten">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.3, mkdocs-material-3.0.3">
    
    
      
        <title>ece2400 T01 intro c - ECE 2400 / ENGRD 2140 Computer Systems Programming Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../#topic-1-introduction-to-c" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="ECE 2400 / ENGRD 2140 Computer Systems Programming Docs" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                ECE 2400 / ENGRD 2140 Computer Systems Programming Docs
              </span>
              <span class="md-header-nav__topic">
                ece2400 T01 intro c
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/cornell-ece2400/ece2400-docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      cornell-ece2400/ece2400-docs
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

<nav class="md-tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../ece2400-sec1-linux/" title="Section Notes" class="md-tabs__link">
          Section Notes
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="ECE 2400 / ENGRD 2140 Computer Systems Programming Docs" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    ECE 2400 / ENGRD 2140 Computer Systems Programming Docs
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/cornell-ece2400/ece2400-docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      cornell-ece2400/ece2400-docs
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Section Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Section Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ece2400-sec1-linux/" title="Section 1: Linux Development Environment" class="md-nav__link">
      Section 1: Linux Development Environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ece2400-sec2-c-basics/" title="Section 2: Compiling and Running C Programs" class="md-nav__link">
      Section 2: Compiling and Running C Programs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-statements-syntax-semantics-state" title="1. Statements, Syntax, Semantics, State" class="md-nav__link">
    1. Statements, Syntax, Semantics, State
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-variables-literals-operators-expressions" title="2. Variables, Literals, Operators, Expressions" class="md-nav__link">
    2. Variables, Literals, Operators, Expressions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#21-variables" title="2.1. Variables" class="md-nav__link">
    2.1. Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22-literals" title="2.2. Literals" class="md-nav__link">
    2.2. Literals
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23-operators" title="2.3. Operators" class="md-nav__link">
    2.3. Operators
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#24-expressions" title="2.4. Expressions" class="md-nav__link">
    2.4. Expressions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#25-simple-c-program" title="2.5. Simple C Program" class="md-nav__link">
    2.5. Simple C Program
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-c-basics" title="1. C Basics" class="md-nav__link">
    1. C Basics
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-using-compiler-explorer-and-replit-to-experiment-with-c-programs" title="1.1. Using Compiler Explorer and Repl.it to Experiment with C Programs" class="md-nav__link">
    1.1. Using Compiler Explorer and Repl.it to Experiment with C Programs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c-functions" title="C Functions" class="md-nav__link">
    C Functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/cornell-ece2400/ece2400-docs/edit/master/docs/ece2400-T01-intro-c.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="topic-1-introduction-to-c">Topic 1: Introduction to C<a class="headerlink" href="#topic-1-introduction-to-c" title="Permanent link">&para;</a></h1>
<p>This topic will provide a gentle introduction to procedural programming
using the C programming language. C has a long history of use in
<em>computer systems programming</em> which involves developing software to
connect the low-level computer hardware to high-level, user-facing
application software. Computer systems programming usually requires
careful consideration of performance and resource constraints. Examples
of computer systems software include compilers, operating systems,
databases, numerical libraries, and embedded controllers. C was developed
in the early 1970s at Bell Laboratories by Ken Thompson, Dennis Ritchie,
and many others. C was originally developed for the purposes of writing
an early version of the Unix operating system. The Linux operating system
which you will be using in the programming assignments was inspired by
these original versions of Unix, and the Linux kernel is also written in
C. C provides a nice balance between high-level abstractions for
productive software development and low-level control over the hardware,
and thus it remains one of the primary languages chosen by computer
systems programmers.</p>
<p>We will assume students have taken an introductory programming course in
a dynamic programming language (e.g., Python, MATLAB). This means we are
assuming students are familiar with basic programming constructs such as
variables, literals, operators, expressions, functions, conditional
statements, and iteration statements. Therefore this topic will focus
more on the specifics of C syntax and a precise way of illustrating
execution semantics which we will use throughout the rest of the course.
We will also start by focusing more on (precisely) <em>reading</em> C programs
than on <em>writing</em> C programs. Just as when learning a foreign language,
one must learn how to read before one can learn how to write!</p>
<h2 id="1-statements-syntax-semantics-state">1. Statements, Syntax, Semantics, State<a class="headerlink" href="#1-statements-syntax-semantics-state" title="Permanent link">&para;</a></h2>
<p>At a fundamental level, any procedural program can be defined by the four
S's: statements, syntax, semantics, and state. The following diagram
illustrates the interaction between the four S's.</p>
<p><img alt="foo" src="../img/T01-execution-model.png" /></p>
<p>Let's start with an example based on the English language. A <em>program</em> is
a sequence of statements. For example the following might be an English
language program:</p>
<ol>
<li>Put the letter in the envelope.</li>
<li>Seal the envelope.</li>
<li>Address the envelope.</li>
<li>Put a stamp on the envelope.</li>
<li>Put the envelope in the mailbox.</li>
</ol>
<p>In this context, a <em>statement</em> is just an English language sentence. For
example, "Put the letter in the envelope." is a statement. The <em>syntax</em>
is the proper English language grammar required for forming valid
sentences. For example, syntax tells us that the first word of a
statement should start with a capital letter, that a verb should have
proper tense, and a statement should end with an appropriate choice of
punctuation. The <em>semantics</em> is the meaning of a sentence. For example,
semantics tells us that a letter is a "written, typed, or printed
communication, especially one sent in an envelope by mail or messenger",
and the semantics also help us understand that putting a letter in an
envelope makes sense. The statement "Put the elephant in the envelope."
would be syntatically correct but would not make much semantic sense.
Finally, the <em>state</em> involves the memory of prior statements (i.e., the
state of the world) as we read or "execute" these statements. To execute
a statement, we use the syntax and semantics to understand how that
statement changes the state of the world. The "execution arrow" points to
the current statement we are reading or executing. So in this example,
the state captures the current status of the envelope. Is the envelope
sealed? Is it addressed? Does it have a stamp on it? Is it in the
mailbox? Here is a quick summary of the four S's:</p>
<ul>
<li><strong>Program</strong>: sequence of statements</li>
<li><strong>Statement</strong>: sentence</li>
<li><strong>Syntax</strong>: sentence grammar</li>
<li><strong>Semantics</strong>: sentence meaning</li>
<li><strong>State</strong>: memory of prior statements</li>
</ul>
<p>When executing a program we often want to be more precise on exactly how
a program's syntax and semantics modify the state. We will use <em>state
diagrams</em> as a way to capture a program's execution precisely. Although
drawing these diagrams may initially seem overly tedious, it is critical
that students master this skill early. By the end of the course we will
be drawing very complicated state diagrams to <em>precisely</em> demonstrate our
understanding of the syntax and semantics of sophisticated programming
paradigms; but this is only possible if students work on mastering this
skill right from the beginning of the course.</p>
<p>The following is an example of a state diagram for executing a simple
English program with five statements.</p>
<p>FIG</p>
<p>Each statement includes a prefix with a line number and small set of
boxes, and there is space on the right to capture the state of the
program. To execute this program we simply use the following steps:</p>
<ol>
<li>Identify which statement the execution arrow is pointing to</li>
<li>Use the syntax and semantics to understand how executing this
     statement will change the state of the program</li>
<li>Update the state accordingly using the space on the right</li>
<li>Cross off the box to the left of this statement</li>
<li>Advance the execution arrow to point to the next statement</li>
</ol>
<p>While we have explored statements, syntax, semantics, and state in the
context of an English language program, our understanding applies equally
well to computer languages. In the rest of this topic, we will learn the
basics about statements, syntax, semanatics, and state in the C
programming language.</p>
<h2 id="2-variables-literals-operators-expressions">2. Variables, Literals, Operators, Expressions<a class="headerlink" href="#2-variables-literals-operators-expressions" title="Permanent link">&para;</a></h2>
<p>We begin by exploring the statements, syntax, semantics, and state
associated with four fundamental C concepts: variables, literals,
operators, and expressions.</p>
<ul>
<li><strong>Variable</strong>: a box (in the computer's memory) which stores a value;
     variables have names and are used for "state"</li>
<li><strong>Literal</strong>: value written exactly as it is meant to be interpreted; a
     literal is not a name, it is the value itself</li>
<li><strong>Operator</strong>: symbol with speical semantics to "operate" on variables
     and literals</li>
<li><strong>Expression</strong>: combination of variables, literals, and operators
     which evaluates to a new value</li>
</ul>
<h2 id="21-variables">2.1. Variables<a class="headerlink" href="#21-variables" title="Permanent link">&para;</a></h2>
<p>A variable is a box in the computer's memory which stores a value. It is
critical to keep the concept of a variable separate from the concept of a
value. A variable is <em>not</em> a value. A variable <em>stores</em> a value. The name
of a variable is called its <em>identifier</em>. In C, identifiers can include
lowercase letters, uppercase letters, numbers, and underscores. However,
identifiers cannot start with a number. These rules are part of the C
syntax for identifiers. The following is a list of valid identifiers
(i.e., correct syntax):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>my_variable
MY_VARIABLE
myVariable
MyVariable
variable_0
variable_1
_variable
__variable__
</pre></div>
</td></tr></table>

<p>The following is a list of invalid identifiers (i.e., incorrect syntax):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>0_variable
variable$1
</pre></div>
</td></tr></table>

<p>The first identifier has invalid C syntax since it starts with a number,
and the second identifier has invalid C syntax since it includes the <code>$</code>
character. These are called <em>synatx errors</em>.</p>
<p>There are many styles of identifiers. For example, <em>snakecase</em> favors
using lowercase with underscores to separate words (i.e., <code>my_variable</code>),
while <em>camelcase</em> favors using lowercase with uppercase to separate words
(i.e., <code>myVariable</code>, <code>MyVariable</code>). Often we might favor using uppercase
with underscores to indicate constant variables (i.e., <code>MY_VARIABLE</code>),
and we might favor using leading and training underscores to indicate
special internal variables (i.e., <code>__variable__</code>). Note that the C
compiler does not care about which valid identifier a programmer uses to
name any given variable. So why not simply name each variable <code>a0</code>, <code>a1</code>,
<code>a2</code>, etc? While the C compiler does not care, the <em>reader</em> of your
program <em>definitely</em> cares about which valid identifiers a programmer
uses. Careful and consistent selection of identifiers can significantly
improve the readability of your programs, which in turn makes your
programs easier to debug, maintain, and extend. It is also important to
note that in practical situations the programmer actually does not get to
choose his or her own coding style (or coding conventions). A company or
open-soruce project will usually have its own coding conventions that it
expects its developers to follow. Similarly, in this course we have our
own coding conventions that we expect students to follow. The coding
conventions are located here:</p>
<ul>
<li><a href="https://cornell-ece2400.github.io/ece2400-docs/ece2400-coding-conventions">https://cornell-ece2400.github.io/ece2400-docs/ece2400-coding-conventions</a></li>
</ul>
<p>All variables also have a <em>type</em>. The type specifies the kind of values
that can be stored in a variable. In dynamically typed languages (e.g.,
Python, MATLAB) the "types" of variables are not be known until run time
(i.e., dynamically), while in statically typed languages (e.g., C, C++)
the "types" of variables must be known at compile time (i.e.,
statically). This is an absolutely critical distinction that also has
fundamental implications with respect to the tension between
productivity- vs. efficiency-level languages. We will learn more about C
types in Topic 3. For now, we will only use variables of type <code>int</code> which
can store signed integer values. Signed integers include zero, negative
whole numbers, and positive whole numbers.</p>
<p>We can now introduce our very first example of a C statement. A <em>variable
declaration statement</em> is used to create a new variable with a specific
name and type. The following is a list of valid variable declaration
statements:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>int my_variable;
int MY_VARIABLE;
int MyVariable;
int myVariable;
int variable_0;
int variable_1;
int _variable;
int __variable__;
</pre></div>
</td></tr></table>

<p>Each statement creates a new box to hold a value of type <code>int</code>. Note that
C syntax requires all C statements to end in a semicolon. Forgetting to
include the semicolon is a syntax error (meanning the C compiler cannot
understand the syntax).</p>
<p>These boxes are initially undefined which is not a problem, but <em>using</em>
an undefined variable has undefined semantics. What does it mean for
something to have undefined semantics? If something has undefined
semantics it could: display an error, cause your program to crash, cause
your program to execute as expected, delete your hard drive, or crash
your entire computer. So we should avoid doing anything which has
undefined semantics. However, this begs the question, why does the C
programming language even include undefined semantics? Why doesn't the C
programming language specify that these uninitialized variables are
automatically initialized to zero? This would certainly avoid undefined
semantics and many common bugs. Recall that C is a computer systems
programming language optimized for efficiency. Automatically initializing
variables to zero would add a small but non-trivial overhead which could
quickly have an impact on the overall performance of your programs. When
faced with a choice between safety and efficiency, the C programming
language will almost always choose efficiency. This is why it is an
efficiency-level language! However, this also means that C programmers
must be very careful in how they write their programs to avoid undefined
behavior at all costs.</p>
<h2 id="22-literals">2.2. Literals<a class="headerlink" href="#22-literals" title="Permanent link">&para;</a></h2>
<p>A literal is a value written exactly as it is meant to be interpreted.
Contrast a literal to a variable. A variable is a name for a box that can
hold many different values (all of the same type!). A constant variable
is a name for a box that can hold a single (constant) value. A literal is
not a name; it is not a variable. A literal is <em>literally</em> the value
itself. Here are some example integer literals:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>42
-42
0x42
0xcafecafe
</pre></div>
</td></tr></table>

<p>The integer literal on line 1 is literally the number 13 in base 10. The
integer literal on line 2 is literally the number -42 in base 10. The
integer literal on line 3 is literally the number 42 in base 16 (i.e., 66
in base 10). Finally, the integer literal on line 4 is literally a large
number in base 16. Notice that C syntax specifies that by default integer
literals are assumed to be base 10, but if the number includes a <code>0x</code>
prefix then the integer literal is in base 16.</p>
<h2 id="23-operators">2.3. Operators<a class="headerlink" href="#23-operators" title="Permanent link">&para;</a></h2>
<p>An operator is a symbol with special semantics to "operate" on variables
and literals. The very first operator we will study will be the
<em>assignment operator</em> represented with the equal symbol (<code>=</code>). The
assignment operator "assigns" a new value to a variable (i.e., puts a
value into the variable's box).</p>
<p>This brings us to our second example of a C statement. An <em>assignment
statement</em> combines the assignment operator with a left-hand side (LHS)
and a right-hand side (RHS). The LHS specifies the variable to change,
and the RHS specifies the new value (possibly using a literal). Here is
an example of a program with two statements:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>int my_variable;
my_variable = 13;
</pre></div>
</td></tr></table>

<p>The first line is a variable declaration statement, and the second line
is an assignment statement. The semantics are that the first statement
creates a box in the computer's memory, and the second statement stores
the value 13 in that box.</p>
<p>A variable declaration statement and an assignment statement can be
combined into a single <em>initialization statement</em>. Here is an example of
the same program implemented with a single statement:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>int my_variable = 13;
</pre></div>
</td></tr></table>

<p>We have now learned about three kinds of C statements: variable
declaration statements, assignment statements, and initialization
statements. It is important to distinguish between these three kinds of
statements, especially since in C++ each of these three kinds of
statements can result in quite different semantics.</p>
<p>There are many other operators besides the assignment operator. For
example, there are arithmetic opeators for addition (<code>+</code>), subtraction
(<code>-</code>), multiplication (<code>*</code>), division (<code>/</code>), and modulus (<code>%</code>).</p>
<p>All of these operators can operate on integer values. We will discuss in
Topic 3 subtle issues related to the fact that the computer can only
represent integer values up to a specific minimum and maximum value. Note
that the division operator (<code>/</code>) is for <em>integer</em> division meaning that 6
/ 2 is 3 and 5 / 2 is 2 not 2.5. So the result of an integer division is
always rounded towards zero, or in other words the fractional part is
simply removed (truncated). Why does the C programming language round
towards zero? Why not round to the nearest whole number? Again the C
programming language is choosing efficiency; it is slightly more
efficient to simply remove the fractional part vs other rounding schemes.</p>
<h2 id="24-expressions">2.4. Expressions<a class="headerlink" href="#24-expressions" title="Permanent link">&para;</a></h2>
<p>An expression is a combination of variables, literals, and operators
which <em>evaluates</em> to a new value. A variable's indentifier is actually an
expression that evaluates to the value stored in that variable. Here is
an example of an expression:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>5 - 3
</pre></div>
</td></tr></table>

<p>This expression evaluates to the value 2. Here is another expression:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>8 / 2 * 2 + 2
</pre></div>
</td></tr></table>

<p>This expression can evaluate to different values depending on the order
in which we aply the sequence of operators. Here are several options:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>((8 / 2) * 2) + 2 evaluates to 10
(8 / 2) * (2 + 2) evaluates to 16
8 / (2 * (2 + 2)) evaluates to  1
(8 / (2 * 2)) + 2 evaluates to  4
8 / ((2 * 2) + 2) evaluates to  1
</pre></div>
</td></tr></table>

<p>Note that the final expression evaluates to 1.33 but since this is the
integer division we round towards zero resulting in a value of 1. The C
programming language includes semantics to unambiguously specify the
correct answer based on an operator precedence table. Here is an initial
version of this table which just includes the operators we have already
learned about in this topic.</p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Operator</th>
<th>Associativity</th>
</tr>
</thead>
<tbody>
<tr>
<td>Multiplicative</td>
<td><code>*</code> <code>/</code> <code>%</code></td>
<td>left to right</td>
</tr>
<tr>
<td>Additive</td>
<td><code>+</code> <code>-</code></td>
<td>left to right</td>
</tr>
<tr>
<td>Assignment</td>
<td><code>=</code></td>
<td>right to left</td>
</tr>
</tbody>
</table>
<p>Early rows have higher precedence than lower rows. So the multiplicative
operators have the highest precedence and then the additive operators.
The associativity column indicates the order to apply the operators when
those operators are at the same precedence. So for the above example, we
first consider the multiplicative operators and then move from left to
right applying those operators. So we apply the division operator first,
then the multiplication operator, and finally the lower precedence
addition operator:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>((8 / 2) * 2) + 2 = 10
</pre></div>
</td></tr></table>

<p>Note that all operators are included in the precedence table, even the
assignment operator. Since the assignment operator is the last row it has
the lowest precendence. This means evaluate the LHS and RHS of the
assignment operator first before doing the actual assignment. Here is an
example:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>x = 5 - 3
</pre></div>
</td></tr></table>

<p>We apply the subtraction operator first and so the LHS evaluates to the
value 2. Then we apply the assignment operator which sets the value of
variable <code>x</code> to be 2. Note that every expression evaluates to a value,
and since <code>x = 5 - 3</code> is an expression then it to evaluates to a value.
The C programming language specifies that the value of applying the
assignment operator is the value of the LHS. This enables complicated yet
syntatically correct expressions such as:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>y = x = 5 - 3
</pre></div>
</td></tr></table>

<p>As before, the addition operator has the higher precendence and so the
LHS evaluates to the value 2. We are left with two assignment operators
and the precendence table specifies that the corresponding associativity
is right to left. So the next step is to apply the second assignment
operator, meaning we set the value of variable <code>x</code> to be 2. The value of
the expression <code>x = 5 - 3</code> is the value of the RHS which is 2, so this
means the value of the RHS for the first assignment operator is also 2.
Applying the first assignment operator sets the value of variable <code>y</code> to
2. In other words, this expression sets the value of both variable <code>x</code>
and <code>y</code> to 2.</p>
<p>One key take-away from this discussion is that while an expression might
be syntatically correct, it doesn't mean that it is readable. We should
always prefer explicitly using parenthesis to indicate the desired order
of operations.</p>
<h2 id="25-simple-c-program">2.5. Simple C Program<a class="headerlink" href="#25-simple-c-program" title="Permanent link">&para;</a></h2>
<h2 id="1-c-basics">1. C Basics<a class="headerlink" href="#1-c-basics" title="Permanent link">&para;</a></h2>
<h3 id="11-using-compiler-explorer-and-replit-to-experiment-with-c-programs">1.1. Using Compiler Explorer and Repl.it to Experiment with C Programs<a class="headerlink" href="#11-using-compiler-explorer-and-replit-to-experiment-with-c-programs" title="Permanent link">&para;</a></h3>
<p>Compiling a C program can be challenging, since it usually involves
multiple command line tools and steps. So to get started, we will be
using two online tools which will enable us to quickly experiment with
small C programs. Later in the tutorial, we will see how to compile,
build, test, debug, and evaluate both small and large C programs on the
<code>ecelinux</code> machines.</p>
<p>The first online tool is called Compiler Explorer, and it is accessed
through the following link: <a href="">https://godbolt.org</a>. You can enter simple
C functions in the left text box, and then Compiler Explorer will display
the corresponding machine instructions (i.e., assembly code) in the right
text box. This is a great way to quickly use your browser to see the
connection between C programs and the low-level computer hardware.
Compiler Explorer color codes the C program and the machine instructions,
so it is possible to see which C statements compile into which machine
instructions. There is a drop-down menu to choose different compilers.
Choosing <em>x86-64 gcc 7.2</em> roughly corresponds to the compiler we will be
using on the <code>ecelinux</code> machines which is based on the Intel x86-64
instruction set. Choosing <em>MIPS gcc 5.4 (el)</em> roughly corresponds to the
compiler used in ECE 2300 which is based on the MIPS instruction set.
There is also a text box where you can enter various compiler command
line options.</p>
<p>The second online tool is called Repl.it, and it is accessed through the
following link: <a href="">http://repl.it</a>. You can create a new "repl" by
choosing the C programming language. You can enter simple C programs in
the left text box. Clicking on the <em>run</em> button will first compile the C
program into an executable binary, and then run this executable binary.
This is a great way to quickly experiment with C programs in your
browser. The output of running the program is shown in the right text
box.</p>
<h3 id="c-functions">C Functions<a class="headerlink" href="#c-functions" title="Permanent link">&para;</a></h3>
<p>The definition for a simple function to calculate the average of two
integers is shown below.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">int</span> <span class="nf">avg</span><span class="p">(</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span> <span class="p">)</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">sum</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>A C function definition specifies a named parameterized sequence of
statements. C function definitions have four parts: a <em>function name</em>
(e.g., <code>avg</code> on Line 1; a <em>function parameter list</em> (e.g., <code>int x, int y</code>
on Line 1); a <em>function return type</em> (e.g., <code>int</code> at the beginning of
Line 1); and the <code>function body</code> (e.g. Lines 2-5). In this tutorial, we
will only use the <code>int</code> type for variables, but the C language supports a
rich selection of different types for representing integer numbers, real
numbers, characters, pointers, and composite structures. A function
creates a new block and all variable declarations within the function are
local to that scope. Line 3 is a variable initialization statement which
first creates a new variable of type <code>int</code> named <code>sum</code> and then
initializes this variable with the value of the expression <code>x+y</code>.
Remember that all C statements end in a semicolon (<code>;</code>). Line 4 is a
return statement which causes the function to return the value of the
corresponding expression (e.g., <code>sum/2</code>). Calling a C function involves
setting the parameters in the parameter list, executing the sequence of
statements in the function body, and then returning the return value. A C
function call is just another kind of expression which evaluates to the
function's return value.</p>
<p>Enter the <code>avg</code> function into Compiler Explorer and take a look at the
corresponding machine instructions for the Intel x86-64 instruction set.
The <code>avg</code> function compiles to 15 machine instructions. In this course,
you are not responsible for understanding these machine instructions, but
it is still very important to recognize that C programs usually map
relatively directly to machine instructions. Notice that the statement on
Line 3 maps to four machine instructions (the C statement and the machine
instructions are all colored yellow) including an <code>add</code> instruction. If
you right click on one of the Intel x86-64 machine instructions and
choose <em>View Asm Doc</em>, Compiler Explorer will display a detailed
description of that machine instruction. Try finding out more about the
<code>add</code> instruction. This instruction directly corresponds to the <code>+</code>
operator in the <code>avg</code> function; this direct mapping from high-level
syntax to low-level machine instructions is one of the key features of C.
The <code>+</code> operator in a language such as Python or MATLAB would eventually
correspond to hundreds of machine instructions! Enter <code>-O3</code> into the
<em>Compiler options...</em> text box and press return. This option tells the
compiler to apply various optimizations to improve the performance of the
compiled machine instructions. The <code>avg</code> function now compiles to six
machine instructions, and we can see that Line 3 now maps to a single
machine instruction (the C statement and the machine instruction are both
are colored green). Even without understanding the details of these
machine instructions, it should be obvious that reducing the number of
machine instructions from 15 to six should improve performance.</p>
<p>The definition for a simple main function to call the avg function and
then print its result is shown below.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">avg</span><span class="p">(</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span> <span class="p">)</span>
<span class="p">{</span>
 <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span>
 <span class="k">return</span> <span class="n">sum</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="n">avg</span><span class="p">(</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span> <span class="s">&quot;average of %d and %d is %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="p">);</span>
  <span class="k">return</span>  <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Recall that the <code>main</code> function is special. The <code>main</code> function is always
where program execution starts; in other words, the <code>main</code> function is
always the first function to be called in any C program. Lines 11-13 are
variable initialization statements. Line 13 calls the <code>avg</code> function with
the values in variables <code>a</code> and <code>b</code>, and then the return value is used to
initialize variable <code>c</code>. Line 14 calls the <code>printf</code> function to display
text on the screen. The <code>printf</code> function is defined in the <em>C standard
library</em> which is usually included along with every C compiler. More
specifically, the <code>printf</code> function declaration is in a separate <em>header
file</em> which is included on Line 1 using the C preprocessor. We will learn
more about the C preprocessor later in this tutorial. The <code>printf</code>
function always takes a format string as the first parameter, and then
takes a variable number of parameters that are evaluated and substituted
into the format string. The format string includes <em>format specifiers</em>
(i.e., special codes) to indicate where to substitute these values. In
this example, we are using the <code>%d</code> format specifier to indicate that we
would like to substitute an integer into the format string. The format
string can also include other special codes; for example, this format
string includes a newline special code (<code>\n</code>) which results in a line
break. The return value of the <code>main</code> function is used as the <em>exit
status</em> of the program; this is a way for a C program to tell the
operating system whether or not the program ended successfully (by
returning zero) or something went wrong (by returning a non-zero value).</p>
<p>Enter the <code>avg</code> and <code>main</code> functions into Repl.it and then use the <em>run</em>
button to compile and execute this C program. Try initializing <code>a</code> to 10
and <code>b</code> to 15. The average of these two integers is 12.5, but our program
currently does not support arithmetic on non-integer values. In this
case, the division operator (i.e., <code>/</code>) truncates the result by always
rounding towards zero. Quickly experimenting with small C programs can
help illustrate subtle issues in C syntax and semantics.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Write a simple function named <code>avg3</code> to average three integers. Use
Compiler Explorer to examine the corresponding machine instructions
and identify how the <code>+</code> operators in the C program maps to <code>add</code>
machine instructions. Use Repl.it to compile and execute a program
with the <code>avg3</code> function and a <code>main</code> function to call the average
function and print its result. Experiment with averaging negative
numbers, especially negative numbers where ideally the result would
not be an integer (e.g., <code>-7</code>, <code>-5</code>, and <code>-4</code>).</p>
</div>
<div class="admonition question">
<p class="admonition-title">Problem 1.1: Writing an <code>avg3</code> function</p>
<p>Here is a programming question</p>
<p><a href="https://repl.it/@cbatten/ece2400-T01-ex1"><img alt="Repl.it" src="../img/replit.png" /></a></p>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 Christopher Batten
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0.3",url:{base:".."}})</script>
      
        <script src="../js/extras.js"></script>
      
    
    
      
    
  </body>
</html>