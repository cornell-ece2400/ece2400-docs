



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="Christopher Batten">
      
      <link rel="shortcut icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.13">
    
    
      
        <title>Ece2400 sec4 c test debug - ECE 2400 Section Handouts</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.077507d7.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.ff0a5ce4.min.css">
      
      
        
        
        <meta name="theme-color" content="#2094f3">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#section-4-c-testing-and-debugging" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="ECE 2400 Section Handouts" class="md-header-nav__button md-logo" aria-label="ECE 2400 Section Handouts">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ECE 2400 Section Handouts
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Ece2400 sec4 c test debug
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/cornell-ece2400/ece2400-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    cornell-ece2400/ece2400-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ECE 2400 Section Handouts" class="md-nav__button md-logo" aria-label="ECE 2400 Section Handouts">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ECE 2400 Section Handouts
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/cornell-ece2400/ece2400-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    cornell-ece2400/ece2400-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../ece2400-sec1-linux/" title="Section 1: Linux Development Environment" class="md-nav__link">
      Section 1: Linux Development Environment
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ece2400-sec2-c-basics/" title="Section 2: Compiling and Running C Programs" class="md-nav__link">
      Section 2: Compiling and Running C Programs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ece2400-sec3-c-build-test/" title="Section 3: C Build and Test Frameworks" class="md-nav__link">
      Section 3: C Build and Test Frameworks
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-the-ecelinux-machines" class="md-nav__link">
    1. The ecelinux Machines
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-using-gdb-for-debugging" class="md-nav__link">
    2. Using GDB for Debugging
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-using-gcov-for-code-coverage" class="md-nav__link">
    3. Using GCOV for Code Coverage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-using-travisci-and-codecovio-for-continuous-integration" class="md-nav__link">
    4. Using TravisCI and Codecov.io for Continuous Integration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-try-steps-for-programming-assignments" class="md-nav__link">
    5. Try Steps for Programming Assignments
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/cornell-ece2400/ece2400-docs/edit/master/docs/ece2400-sec4-c-test-debug.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="section-4-c-testing-and-debugging">Section 4: C Testing and Debugging<a class="headerlink" href="#section-4-c-testing-and-debugging" title="Permanent link">&para;</a></h1>
<p>In the previous discussion section, you learned how to use C build and
test frameworks to help automate the process of compiling and verifying
your programs In this discussion, we will continue to learn about new
tools that can help us better test and debug our programs.</p>
<h2 id="1-the-ecelinux-machines">1. The ecelinux Machines<a class="headerlink" href="#1-the-ecelinux-machines" title="Permanent link">&para;</a></h2>
<p>Follow the same process as in the last section.</p>
<ul>
<li>login to a workstation with your NetID and password</li>
<li>use MobaXterm to log into the <code>ecelinux</code> servers</li>
<li>make sure you source the setup script</li>
<li>verify ECE2400 is in your prompt</li>
</ul>
<p>For this discussion section you will need to make a copy of the repo we
will be using so you can push to it. Go to the section's repo here:</p>
<ul>
<li><a href="https://github.com/cornell-ece2400/ece2400-sec4">https://github.com/cornell-ece2400/ece2400-sec4</a></li>
</ul>
<p>Click on the "Fork" button. Wait a few seconds and then visit the new
copy of this repo in your own person GitHub workspace:</p>
<ul>
<li><code>https://github.com/githubid/ece2400-sec4</code></li>
</ul>
<p>Where <code>githubid</code> is your GitHubID. Now clone the github repo for this
discussion section using the following commands:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>% <span class="nb">source</span> setup-ece2400.sh
% mkdir -p <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2400
% <span class="nb">cd</span> <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2400
% git clone git@github.com:githubid/ece2400-sec4 sec4
% <span class="nb">cd</span> sec4
% tree
</code></pre></div>
</td></tr></table>

<p>Where again, the <code>githubid</code> is your GitHubID. The given <code>src</code> directory
includes the following files:</p>
<ul>
<li><code>avg-test.c</code>: source and test for <code>avg</code> function</li>
<li><code>sort-test.c</code>: source and test for <code>sort</code> function</li>
<li><code>utst.h</code> : simple C preprocessor macros for unit testing</li>
<li><code>.travis.yml</code> : TravisCI configuration script</li>
</ul>
<h2 id="2-using-gdb-for-debugging">2. Using GDB for Debugging<a class="headerlink" href="#2-using-gdb-for-debugging" title="Permanent link">&para;</a></h2>
<p>There are two kinds of C/C++ programmers in the world: printf debuggers
and GDB debuggers. Prof. Batten used to be a printf debuggers but
teaching this course has converted him to be a GDB advocate. He will
share his perspectives on this in the discussion section.</p>
<p>Let's start by compiling a single-file program that uses the <code>UTST</code> macros
to test our ubiquitous <code>avg</code> function.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>% <span class="nb">cd</span> <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2400/sec4
% gcc -Wall -g -o avg-test avg-test.c
% ./avg-test
</code></pre></div>
</td></tr></table>

<p>Notice how we include the <code>-g</code> option to turn on support for debugging.
This code has a bug and should fail the test. Let's start by using printf
debugging. Add some extra printfs to observe the state of the program as
it executes.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="kt">int</span> <span class="nf">avg</span><span class="p">(</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span> <span class="p">)</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span> <span class="s">&quot;x = %d, y = %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="p">);</span>
  <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span> <span class="s">&quot;sum = %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">sum</span> <span class="p">);</span>
  <span class="k">return</span> <span class="n">sum</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<p>You should be able to see that the value for the <code>sum</code> variable is
incorrect, but the value for the <code>x</code> and <code>y</code> variables are correct. This
means we can narrow our focus to line 4 in the above code snippet.
Hopefully, you should be able to spot the bug. Fix the bug, recompile,
and rerun the program.</p>
<p>Let's now try tracing the execution of this program using GDB. Then you
can start GDB like this</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>% <span class="nb">cd</span> <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2400/sec4
% gdb -tui avg-test
</code></pre></div>
</td></tr></table>

<p>GDB will drop you into a GDB "prompt" which you can use to interactively
execute your program. Your source code will show up at the top, and the
GDB prompt is at the bottom. Here are some useful GDB commands:</p>
<ul>
<li><code>break location</code> : set a breakpoint</li>
<li><code>run</code> : start running the program</li>
<li><code>record</code> : start recording the execution for reverse debugging</li>
<li><code>step</code> : execute the next C statement, step into a function call</li>
<li><code>next</code> : execute the next C statement, do not step into a function call</li>
<li><code>rs</code> : reserve step, undo the execution of current C statement</li>
<li><code>print var</code> : print a C variable</li>
<li><code>continue</code> : continue on to the next breakpoint</li>
<li><code>quit</code> : exit GDB</li>
<li><code>refresh</code> : refresh the source code display</li>
</ul>
<p>GDB is very sophisticated so of course there are many more commands you
can use, but these are enough to get started. Let's start by just running
the program in GDB:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="err">(gdb) run</span>
</code></pre></div>
</td></tr></table>

<p>Now let's try again, but first let's set a breakpoint to tell GDB to stop
at a certain function or line in the program. The following will set a
breakpoint at the beginning of the <code>main</code> function.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="err">(gdb) break main</span>
</code></pre></div>
</td></tr></table>

<p>You can see a little <code>b+</code> marker in the margin next to the first statement
in the <code>main</code> function indicating the location of the breakpoint. We can
now use <code>run</code> to start the program running. The execution should stop at
the beginning of the function <code>main</code>. You should see the first line of
the function highlighted.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="err">(gdb) run</span>
</code></pre></div>
</td></tr></table>

<p>We can use <code>record</code> to turn on recording to enable reverse debugging and
then we can step through the execution of each C statement using the
<code>step</code> command.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="err">(gdb) record</span>
<span class="err">(gdb) step</span>
</code></pre></div>
</td></tr></table>

<p>Keep using <code>step</code> until you get into the <code>avg</code> function You can print out
the value of any variable using the <code>print</code> command:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="err">(gdb) print x</span>
<span class="err">(gdb) print y</span>
<span class="err">(gdb) print sum</span>
</code></pre></div>
</td></tr></table>

<p>You can also step backwards using the <code>rs</code> command:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="err">(gdb) rs</span>
</code></pre></div>
</td></tr></table>

<p>Try stepping forward and backward through the <code>avg</code> function and print
out various variables to see how they change during the execution. You
can use <code>quit</code> to exit.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="err">(gdb) quit</span>
</code></pre></div>
</td></tr></table>

<p>Now fix the bug and rerun the test.</p>
<div class="admonition note">
<p class="admonition-title">To-Do On Your Own</p>
<p>Try compiling <code>sort-test.c</code> and executing the resulting binary. The
test should fail. Use GDB debugging to find the bug and fix it. Think
critically about whether or not the sort function should swap the
given inputs, and then use GDB to trace and see if it is or is not
swapping as expected.</p>
</div>
<h2 id="3-using-gcov-for-code-coverage">3. Using GCOV for Code Coverage<a class="headerlink" href="#3-using-gcov-for-code-coverage" title="Permanent link">&para;</a></h2>
<p>One you have developed your implementation and the corresponding basic,
directed, and random tests, you can then move on to understanding the
<em>quality</em> of your current set of tests. One way to do this is to use code
coverage tools. The idea here is to use a tool which will count how many
times each line of code in your program is executed when running all of
your tests. If there are lines of code which have never executed, then
this is a good indicator that you need more tests to verify that part of
your code.</p>
<p>Let's start by recompiling our <code>avg-test.c</code> and turning on code coverage
support.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>% <span class="nb">cd</span> <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2400/sec4
% gcc -Wall -g --coverage -o avg-test avg-test.c
% ./avg-test
</code></pre></div>
</td></tr></table>

<p>This will generate additional data in <code>avg-test.gcda</code>. To make this data
easy to read and understand we need to run two more tools: <code>lcov</code> and
<code>genhtml</code> like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>% <span class="nb">cd</span> <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2400/sec4
% lcov --capture --directory . --output-file coverage.info
% genhtml coverage.info --output-directory coverage-html
</code></pre></div>
</td></tr></table>

<p>These tools will produce easy to read HTML reports. While you can use a
browser like <code>firefox</code>, it is faster (especially when working on the
server) to use a terminal based browser like <code>elinks</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>% elinks coverage-html/index.html
</code></pre></div>
</td></tr></table>

<p>You should be able to use your mouse to browse to the report for the
<code>avg-test.c</code> source file and verify that you are achieving 100% code
coverage. Note that 100% code coverage is not the same as 100% path
coverage; ask the instructors for more on this. Also note that 100% code
coverage does not mean your program is guaranteed to be correct!</p>
<div class="admonition note">
<p class="admonition-title">To-Do On Your Own</p>
<p>Try compiling <code>sort-test.c</code> and executing the resulting binary with
support for code coverage (after you fix the bug from the previous
section!). Use the code coverage reports to verify that the test has
less than 100% code coverage. Add more tests to improve the code
coverage to 100%.</p>
</div>
<h2 id="4-using-travisci-and-codecovio-for-continuous-integration">4. Using TravisCI and Codecov.io for Continuous Integration<a class="headerlink" href="#4-using-travisci-and-codecovio-for-continuous-integration" title="Permanent link">&para;</a></h2>
<p>Continuous integration is the process of <em>continually</em> integrating,
testing, and evaluating your code. We will be using two tools to
facilitate continuous integration. The first is TravisCI, an online
service which is tightly coupled to GitHub. TravisCI will automatically
run all tests for a project every time code is pushed to GitHub. The
second is Codecov.io, an online service for visualizing code coverage.</p>
<p>To start, you need to enable TravisCI for the remote repository on
GitHub. Log into TravisCI using your GitHub ID and password:</p>
<ul>
<li><a href="https://travis-ci.org/profile">https://travis-ci.org/profile</a></li>
</ul>
<p>Once you have signed in, you should go to your TravisCI profile and find
the list of your public GitHub repositories. You may need to click Sync
to ensure that TravisCI has the most recent view of your public
repositories on GitHub. You might need to refresh the page a few times.
Turn on TravisCI with the little "switch" next to the repository we have
been using in this tutorial (<code>githubid/ece2400-sec4</code>). After enabling
TravisCI for the <code>githubid/ece2400-sec4</code> repository, you should be able
to go to the TravisCI page for this repository:</p>
<ul>
<li><code>https://travis-ci.org/githubid/ece2400-sec4</code></li>
</ul>
<p>TravisCI will report that there are no builds for this repository yet.
TravisCI looks for a special file named <code>.travis.yml</code> in the top of your
repository to determine how to build and test your project. We have
already created one of those files for you, and you can see it here:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>% <span class="nb">cd</span> <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2400/sec4
% cat .travis.yml
</code></pre></div>
</td></tr></table>

<p>Go ahead and commit all of the work you have done in this tutorial, then
push your local commits to the remote repository on GitHub. Revisit the
TravisCI page for this repository, you should see TravisCI starting to
build and run all of your tests.</p>
<ul>
<li><code>https://travis-ci.org/githubid/ece2400-sec4</code></li>
</ul>
<p>Just like we can use TravisCI to automatically run tests, we can use
Codecov.io to automatically prepare code coverage reports on every
commit. You can see your code coverage reports here:</p>
<ul>
<li><code>https://codecov.io/gh/githubid/ece2400-sec4</code></li>
</ul>
<h2 id="5-try-steps-for-programming-assignments">5. Try Steps for Programming Assignments<a class="headerlink" href="#5-try-steps-for-programming-assignments" title="Permanent link">&para;</a></h2>
<p>Spend some time looking at the <code>.travis.yml</code> file for PA1. Look at the
TravisCI results for the PA1 milestone and also look at the Codecov.io
results. You can find these results by clicking on the appropriate badges
in your PA1 README.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 Christopher Batten
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.2d1db4bd.min.js"></script>
      <script src="../assets/javascripts/bundle.6627ddf3.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../js/extras.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>