



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
        <meta name="author" content="Christopher Batten">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.3, mkdocs-material-3.0.3">
    
    
      
        <title>Ece2400 sec8 cxx class - ECE 2400 / ENGRD 2140 Computer Systems Programming Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../#section-8-c-class" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="ECE 2400 / ENGRD 2140 Computer Systems Programming Docs" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                ECE 2400 / ENGRD 2140 Computer Systems Programming Docs
              </span>
              <span class="md-header-nav__topic">
                Ece2400 sec8 cxx class
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/cornell-ece2400/ece2400-docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      cornell-ece2400/ece2400-docs
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="ECE 2400 / ENGRD 2140 Computer Systems Programming Docs" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    ECE 2400 / ENGRD 2140 Computer Systems Programming Docs
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/cornell-ece2400/ece2400-docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      cornell-ece2400/ece2400-docs
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../ece2400-sec1-linux/" title="Section 1: Linux Development Environment" class="md-nav__link">
      Section 1: Linux Development Environment
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/cornell-ece2400/ece2400-docs/edit/master/docs/ece2400-sec8-cxx-class.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="section-8-c-class">Section 8: C++ Class<a class="headerlink" href="#section-8-c-class" title="Permanent link">&para;</a></h1>
<p>Before you start, let's source our setup script like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">% source setup-ece2400.sh</span>
</pre></div>
</td></tr></table>

<p>Now clone the github repo for this discussion section. No need to fork the
repo, just clone it.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">% mkdir -p ${HOME}/ece2400</span>
<span class="c">% cd ${HOME}/ece2400</span>
<span class="c">% git clone git@github.com:cornell-ece2400/ece2400-sec8-cxx-class.git sec8</span>
<span class="c">% cd sec8</span>
<span class="c">% ls</span>
</pre></div>
</td></tr></table>

<p><strong>1. Part 1: Organize your code in C++</strong></p>
<ul>
<li>So far in lectures, we have seen C++ code written all together in one
  single <code>.cc</code> file. That's not the case in practice when you need to deal
  with large and complex code base. Let's consider an example of the
  <code>Complex</code> class in our discussion section last week.</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="err">#</span><span class="nx">include</span> <span class="o">&lt;</span><span class="nx">cstdio</span><span class="o">&gt;</span>

<span class="c1">//========================================================================</span>
<span class="c1">// Complex</span>
<span class="c1">//========================================================================</span>
<span class="c1">// Declaration and definition of Complex class and its members</span>

<span class="kr">class</span> <span class="nx">Complex</span>
<span class="p">{</span>
  <span class="kr">public</span><span class="o">:</span>
   <span class="c1">//----------------------------------------------------------------------</span>
   <span class="c1">// constructors</span>
   <span class="c1">//----------------------------------------------------------------------</span>

   <span class="nx">Complex</span><span class="p">(</span> <span class="kr">double</span> <span class="nx">real_</span><span class="p">,</span> <span class="kr">double</span> <span class="nx">imag_</span> <span class="p">)</span>
   <span class="p">{</span>
     <span class="nx">real</span> <span class="o">=</span> <span class="nx">real_</span><span class="p">;</span>
     <span class="nx">imag</span> <span class="o">=</span> <span class="nx">imag_</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="nx">Complex</span><span class="p">(</span> <span class="kr">const</span> <span class="nx">Complex</span><span class="o">&amp;</span> <span class="nx">x</span> <span class="p">)</span>
   <span class="p">{</span>
     <span class="nx">real</span> <span class="o">=</span> <span class="nx">x</span><span class="p">.</span><span class="nx">real</span><span class="p">;</span>
     <span class="nx">imag</span> <span class="o">=</span> <span class="nx">x</span><span class="p">.</span><span class="nx">imag</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="c1">//----------------------------------------------------------------------</span>
   <span class="c1">// add</span>
   <span class="c1">//----------------------------------------------------------------------</span>
   <span class="c1">// Add &quot;x&quot; complex number to &quot;this&quot; complex number</span>

   <span class="k">void</span> <span class="nx">add</span><span class="p">(</span> <span class="kr">const</span> <span class="nx">Complex</span><span class="o">&amp;</span> <span class="nx">x</span> <span class="p">)</span>
   <span class="p">{</span>
     <span class="nx">real</span> <span class="o">+=</span> <span class="nx">x</span><span class="p">.</span><span class="nx">real</span><span class="p">;</span>
     <span class="nx">imag</span> <span class="o">+=</span> <span class="nx">x</span><span class="p">.</span><span class="nx">imag</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="c1">//------------------------------------------------------------------------</span>
   <span class="c1">// print</span>
   <span class="c1">//------------------------------------------------------------------------</span>
   <span class="c1">// Print &quot;this&quot; complex number</span>

   <span class="k">void</span> <span class="nx">print</span><span class="p">()</span>
   <span class="p">{</span>
     <span class="nx">std</span><span class="o">::</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%.2f+%.2fi&quot;</span><span class="p">,</span> <span class="nx">real</span><span class="p">,</span> <span class="nx">imag</span> <span class="p">);</span>
   <span class="p">}</span>

  <span class="kr">private</span><span class="o">:</span>
   <span class="kr">double</span> <span class="nx">real</span><span class="p">;</span>
   <span class="kr">double</span> <span class="nx">imag</span><span class="p">;</span>
 <span class="p">};</span>

 <span class="c1">//========================================================================</span>
 <span class="c1">// operator+ overload</span>
 <span class="c1">//========================================================================</span>

 <span class="nx">Complex</span> <span class="nx">operator</span><span class="o">+</span><span class="p">(</span> <span class="kr">const</span> <span class="nx">Complex</span><span class="o">&amp;</span> <span class="nx">x</span><span class="p">,</span> <span class="kr">const</span> <span class="nx">Complex</span><span class="o">&amp;</span> <span class="nx">y</span> <span class="p">)</span>
 <span class="p">{</span>
   <span class="nx">Complex</span> <span class="nx">tmp</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
   <span class="nx">tmp</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span> <span class="nx">y</span> <span class="p">);</span>
   <span class="k">return</span> <span class="nx">tmp</span><span class="p">;</span>
 <span class="p">}</span>

<span class="c1">//========================================================================</span>
<span class="c1">// main</span>
<span class="c1">//========================================================================</span>

<span class="kr">int</span> <span class="nx">main</span><span class="p">(</span> <span class="k">void</span> <span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// Create complex number &quot;a&quot; by calling the constructor of Complex</span>

  <span class="nx">Complex</span> <span class="nx">a</span><span class="p">(</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.5</span> <span class="p">);</span>
  <span class="nx">std</span><span class="o">::</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;a = &quot;</span><span class="p">);</span>
  <span class="nx">a</span><span class="p">.</span><span class="nx">print</span><span class="p">();</span>
  <span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;\n&quot;</span><span class="p">);</span>

  <span class="c1">// Create complex number &quot;b&quot; by calling the constructor of Complex</span>

  <span class="nx">Complex</span> <span class="nx">b</span> <span class="p">(</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mf">4.5</span> <span class="p">);</span>
  <span class="nx">std</span><span class="o">::</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;b = &quot;</span><span class="p">);</span>
  <span class="nx">b</span><span class="p">.</span><span class="nx">print</span><span class="p">();</span>
  <span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;\n&quot;</span><span class="p">);</span>

  <span class="c1">// Add &quot;a&quot; and &quot;b&quot; together and store the sum to &quot;c&quot;</span>

  <span class="nx">std</span><span class="o">::</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;Doing c = a + b ...\n&quot;</span><span class="p">);</span>
  <span class="nx">Complex</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>

  <span class="c1">// Print out &quot;c&quot;</span>

  <span class="nx">std</span><span class="o">::</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;c = &quot;</span><span class="p">);</span>
  <span class="nx">c</span><span class="p">.</span><span class="nx">print</span><span class="p">();</span>
  <span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;\n&quot;</span><span class="p">);</span>

  <span class="c1">// Add &quot;b&quot; to &quot;a&quot;</span>

  <span class="nx">std</span><span class="o">::</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;Doing a += b ...\n&quot;</span><span class="p">);</span>
  <span class="nx">a</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span> <span class="nx">b</span> <span class="p">);</span>

  <span class="c1">// Print out &quot;a&quot;</span>

  <span class="nx">std</span><span class="o">::</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;a = &quot;</span><span class="p">);</span>
  <span class="nx">a</span><span class="p">.</span><span class="nx">print</span><span class="p">();</span>
  <span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;\n&quot;</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<ul>
<li>
<p>Here we declare and define <code>Complex</code> class and its members (i.e., member
  functions and member fields) all together in one <code>.cc</code> file. We also have
  a <code>main</code> function that uses the class. Let's imagine that your class has
  tens of member functions, each of which takes many lines of code to
  implement. How would your source file look like? <strong>Gigantic!</strong></p>
</li>
<li>
<p>Following are some drawbacks of this monolithic approach:</p>
</li>
<li>Very large code base -&gt; very hard to maintain and debug</li>
<li>Declarations and definitions are put together -&gt; very hard to see the
  interface of a class</li>
<li>
<p>Hard to include a class into another file or project</p>
</li>
<li>
<p>Instead, we should break the code into multiple files</p>
</li>
<li><code>complex.h</code>: contains only declarations of related classes, functions,
  and variables and no implementation detail.</li>
<li><code>complex.cc</code>: contains only definition/implementation of classes,
  functions, and variables declared in the header file <code>complex.h</code>. This
  file needs to include the header file.</li>
<li>
<p><code>complex-main.cc</code>: contains only user code that uses the class. This
  file needs to include the header file.</p>
</li>
<li>
<p><strong>Your tasks</strong></p>
</li>
<li>Go to <code>part1/</code> directory</li>
<li>We already provide you the header file <code>complex.h</code></li>
<li>Copy the implementation of <code>Complex</code> class's functions and the
  overloaded <code>operator++</code> into <code>complex.cc</code>. We already give you an example
  of the class's default constructor.</li>
<li>Copy the <code>main</code> function into <code>complex-main.cc</code></li>
<li>Compile your code using <code>g++</code></li>
</ul>
<p><strong>2. Part 2: Make your RVector class</strong></p>
<ul>
<li>
<p>In this part, we will implement an <code>RVector</code> data structure in C++.
  <code>RVector</code> works exactly like the <code>rvector_int_t</code> that you implemented in
  PA 2. You will need to implement the following functions in
  <code>part2/rvector.cc</code></p>
</li>
<li>
<p><code>RVector::RVector()</code> - default constructor: initialize <code>m_max_size</code>,
  <code>m_size</code>, and <code>m_arr</code> to default values. Remember that the <code>RVector</code> is
  empty initially.</p>
</li>
<li>
<p><code>RVector::RVector( size_t max_size )</code> - a constructor: initialize
  <code>m_max_size</code> to <code>max_size</code>, <code>m_size</code> and <code>m_arr</code> to default values.
  Remember that the <code>RVector</code> is empty initially.</p>
</li>
<li>
<p><code>RVector::RVector( const RVector&amp; x )</code> - a copy constructor: copy all
  numbers from vector <code>x</code> to this vector. Remember to allocate memory
  properly for this constructor.</p>
</li>
<li>
<p><code>RVector::~RVector()</code> - a destructor: deallocate any dynamically
  allocated memory associated with this <code>RVector</code>.</p>
</li>
<li>
<p><code>void RVector::push_back( int num )</code>: push back a new number into this
  vector</p>
</li>
<li>
<p><code>int RVector::at( size_t index )</code>: return a number at a given index.
  <strong>Throw an OutOfRangeException when the index is out of bound</strong></p>
</li>
<li>
<p>After you finish implementing all functions, you will need to write a
  small ad-hoc tests in <code>part2/rvector-main.cc</code> to test them. Compile and
  run the test using <code>g++</code>.</p>
</li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 Christopher Batten
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0.3",url:{base:".."}})</script>
      
        <script src="../js/extras.js"></script>
      
    
    
      
    
  </body>
</html>