



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
        <meta name="author" content="Christopher Batten">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.3, mkdocs-material-3.0.3">
    
    
      
        <title>Topic 1: Introduction to C - ECE 2400 Computer Systems Programming</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#ef5350">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="red" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../#topic-1-introduction-to-c" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="ECE 2400 Computer Systems Programming" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                ECE 2400 Computer Systems Programming
              </span>
              <span class="md-header-nav__topic">
                Topic 1: Introduction to C
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/cornell-ece2400/ece2400-docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      cornell-ece2400/ece2400-docs
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="ECE 2400 Computer Systems Programming" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    ECE 2400 Computer Systems Programming
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/cornell-ece2400/ece2400-docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      cornell-ece2400/ece2400-docs
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1" checked>
    
    <label class="md-nav__link" for="nav-1">
      Topic Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Topic Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Topic 1: Introduction to C
      </label>
    
    <a href="./" title="Topic 1: Introduction to C" class="md-nav__link md-nav__link--active">
      Topic 1: Introduction to C
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-c-basics" title="1. C Basics" class="md-nav__link">
    1. C Basics
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-using-compiler-explorer-and-replit-to-experiment-with-c-programs" title="1.1. Using Compiler Explorer and Repl.it to Experiment with C Programs" class="md-nav__link">
    1.1. Using Compiler Explorer and Repl.it to Experiment with C Programs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c-functions" title="C Functions" class="md-nav__link">
    C Functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Discussion Section
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Discussion Section
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ece2400-sec1-linux-git/" title="Section 1: Linux and Git" class="md-nav__link">
      Section 1: Linux and Git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ece2400-sec2-c-basics/" title="Section 2: Compiling and Running C Programs" class="md-nav__link">
      Section 2: Compiling and Running C Programs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ece2400-tut1-linux-git/" title="Tutorial 1: Linux and Git" class="md-nav__link">
      Tutorial 1: Linux and Git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ece2400-tut2-c-basics/" title="Tutorial 2: Compiling and Running C Programs" class="md-nav__link">
      Tutorial 2: Compiling and Running C Programs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Programming Assignments
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Programming Assignments
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ece2400-pa1-math/" title="PA1: Math Functions" class="md-nav__link">
      PA1: Math Functions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-c-basics" title="1. C Basics" class="md-nav__link">
    1. C Basics
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-using-compiler-explorer-and-replit-to-experiment-with-c-programs" title="1.1. Using Compiler Explorer and Repl.it to Experiment with C Programs" class="md-nav__link">
    1.1. Using Compiler Explorer and Repl.it to Experiment with C Programs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c-functions" title="C Functions" class="md-nav__link">
    C Functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/cornell-ece2400/ece2400-docs/edit/master/docs/ece2400-T01-intro-c-notes.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="topic-1-introduction-to-c">Topic 1: Introduction to C<a class="headerlink" href="#topic-1-introduction-to-c" title="Permanent link">&para;</a></h1>
<p>The first few programming assignments for this course will use the C
programming language. This tutorial begins by briefly reviewing the
basics of C functions, conditional statements, and iteration statements.
The tutorial then discusses the C preprocessor before describing how to
compile and execute both single-file and multi-file C programs using the
command line. All of the tools are installed and available on the
<code>ecelinux</code> machines. This tutorial assumes that students have completed
the Linux and Git tutorials. We strongly recommend students also read
Chapters 1-6 in the course text book, <em>``All of Programming,''</em> by A.
Hilton and A. Bracy (2015). Chapters 5-6 are particularly relevant since
they discuss the general process of compiling, testing, and debugging C
programs.</p>
<p>To follow along with the tutorial, access the course computing resources,
and type the commands without the <code>%</code> character (for the <code>bash</code> prompt).
In addition to working through the commands in the tutorial, you should
also try the more open-ended tasks marked <strong>To-Do On Your Own</strong>.</p>
<p>Before you begin, make sure that you have <strong>sourced the setup-ece2400.sh
script</strong> or that you have added it to your <code>.bashrc</code> script, which will
then source the script every time you login. Sourcing the setup script
sets up the environment required for this class.</p>
<p>You should start by forking the tutorial repository on GitHub. Go to the
GitHub page for the tutorial repository located here:
<a href="">https://github.com/cornell-ece2400/ece2400-tut3-c</a>. Click on <em>Fork</em> in
the upper right-hand corner. If asked where to fork this repository,
choose your personal GitHub account. After a few seconds, you should have
a new repository in your account:
<code>https://github.com/&lt;githubid&gt;/ece2400-tut3-c</code> Where <code>&lt;githubid&gt;</code> is your
GitHub username on <a href="">github.com</a>. Now access an <code>ecelinux</code> machine and
clone your copy of the tutorial repository as follows:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>% <span class="nb">source</span> setup-ece2400.sh
% mkdir -p <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2400
% <span class="nb">cd</span> <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2400
% git clone https://github.com/&lt;githubid&gt;/ece2400-tut3-c.git tut3
% <span class="nb">cd</span> tut3
% <span class="nv">TUTROOT</span><span class="o">=</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>
</pre></div>
</td></tr></table>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It should be possible to experiment with this tutorial even if you
are not enrolled in the course and/or do not have access to the
course computing resources. All of the code for the tutorial is
located on GitHub. You will not use the <code>setup-ece2400.sh</code> script,
and your specific environment may be different from what is assumed
in this tutorial.</p>
</div>
<h2 id="1-c-basics">1. C Basics<a class="headerlink" href="#1-c-basics" title="Permanent link">&para;</a></h2>
<p>C is a programming language that has a long history of use in <em>computer
systems programming</em>. Computer systems programming involves developing
software to connect the low-level computer hardware to high-level,
user-facing application software and usually requires careful
consideration of performance and resource constraints. Examples of
computer systems software include compilers, operating systems,
databases, numerical libraries, and embedded controllers. C was developed
in the early 1970s at Bell Laboratories by Ken Thompson, Dennis Ritchie,
and many others. C was originally developed for the purposes of writing
an early version of the Unix operating system. The Linux operating system
which you learned about in the first tutorial was inspired by these
original versions of Unix, and the Linux kernel is also written in C. C
provides a nice balance between high-level abstractions for productive
software development and low-level control over the hardware, and thus it
remains one of the primary languages chosen by computer systems
programmers. In this section, we will briefly review some of the basic
syntax and semantics of C.</p>
<h3 id="11-using-compiler-explorer-and-replit-to-experiment-with-c-programs">1.1. Using Compiler Explorer and Repl.it to Experiment with C Programs<a class="headerlink" href="#11-using-compiler-explorer-and-replit-to-experiment-with-c-programs" title="Permanent link">&para;</a></h3>
<p>Compiling a C program can be challenging, since it usually involves
multiple command line tools and steps. So to get started, we will be
using two online tools which will enable us to quickly experiment with
small C programs. Later in the tutorial, we will see how to compile,
build, test, debug, and evaluate both small and large C programs on the
<code>ecelinux</code> machines.</p>
<p>The first online tool is called Compiler Explorer, and it is accessed
through the following link: <a href="">https://godbolt.org</a>. You can enter simple
C functions in the left text box, and then Compiler Explorer will display
the corresponding machine instructions (i.e., assembly code) in the right
text box. This is a great way to quickly use your browser to see the
connection between C programs and the low-level computer hardware.
Compiler Explorer color codes the C program and the machine instructions,
so it is possible to see which C statements compile into which machine
instructions. There is a drop-down menu to choose different compilers.
Choosing <em>x86-64 gcc 7.2</em> roughly corresponds to the compiler we will be
using on the <code>ecelinux</code> machines which is based on the Intel x86-64
instruction set. Choosing <em>MIPS gcc 5.4 (el)</em> roughly corresponds to the
compiler used in ECE 2300 which is based on the MIPS instruction set.
There is also a text box where you can enter various compiler command
line options.</p>
<p>The second online tool is called Repl.it, and it is accessed through the
following link: <a href="">http://repl.it</a>. You can create a new "repl" by
choosing the C programming language. You can enter simple C programs in
the left text box. Clicking on the <em>run</em> button will first compile the C
program into an executable binary, and then run this executable binary.
This is a great way to quickly experiment with C programs in your
browser. The output of running the program is shown in the right text
box.</p>
<h3 id="c-functions">C Functions<a class="headerlink" href="#c-functions" title="Permanent link">&para;</a></h3>
<p>The definition for a simple function to calculate the average of two
integers is shown below.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">int</span> <span class="nf">avg</span><span class="p">(</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span> <span class="p">)</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">sum</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>A C function definition specifies a named parameterized sequence of
statements. C function definitions have four parts: a <em>function name</em>
(e.g., <code>avg</code> on Line 1; a <em>function parameter list</em> (e.g., <code>int x, int y</code>
on Line 1); a <em>function return type</em> (e.g., <code>int</code> at the beginning of
Line 1); and the <code>function body</code> (e.g. Lines 2-5). In this tutorial, we
will only use the <code>int</code> type for variables, but the C language supports a
rich selection of different types for representing integer numbers, real
numbers, characters, pointers, and composite structures. A function
creates a new block and all variable declarations within the function are
local to that scope. Line 3 is a variable initialization statement which
first creates a new variable of type <code>int</code> named <code>sum</code> and then
initializes this variable with the value of the expression <code>x+y</code>.
Remember that all C statements end in a semicolon (<code>;</code>). Line 4 is a
return statement which causes the function to return the value of the
corresponding expression (e.g., <code>sum/2</code>). Calling a C function involves
setting the parameters in the parameter list, executing the sequence of
statements in the function body, and then returning the return value. A C
function call is just another kind of expression which evaluates to the
function's return value.</p>
<p>Enter the <code>avg</code> function into Compiler Explorer and take a look at the
corresponding machine instructions for the Intel x86-64 instruction set.
The <code>avg</code> function compiles to 15 machine instructions. In this course,
you are not responsible for understanding these machine instructions, but
it is still very important to recognize that C programs usually map
relatively directly to machine instructions. Notice that the statement on
Line 3 maps to four machine instructions (the C statement and the machine
instructions are all colored yellow) including an <code>add</code> instruction. If
you right click on one of the Intel x86-64 machine instructions and
choose <em>View Asm Doc</em>, Compiler Explorer will display a detailed
description of that machine instruction. Try finding out more about the
<code>add</code> instruction. This instruction directly corresponds to the <code>+</code>
operator in the <code>avg</code> function; this direct mapping from high-level
syntax to low-level machine instructions is one of the key features of C.
The <code>+</code> operator in a language such as Python or MATLAB would eventually
correspond to hundreds of machine instructions! Enter <code>-O3</code> into the
<em>Compiler options...</em> text box and press return. This option tells the
compiler to apply various optimizations to improve the performance of the
compiled machine instructions. The <code>avg</code> function now compiles to six
machine instructions, and we can see that Line 3 now maps to a single
machine instruction (the C statement and the machine instruction are both
are colored green). Even without understanding the details of these
machine instructions, it should be obvious that reducing the number of
machine instructions from 15 to six should improve performance.</p>
<p>The definition for a simple main function to call the avg function and
then print its result is shown below.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">avg</span><span class="p">(</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span> <span class="p">)</span>
<span class="p">{</span>
 <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span>
 <span class="k">return</span> <span class="n">sum</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="n">avg</span><span class="p">(</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span> <span class="s">&quot;average of %d and %d is %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="p">);</span>
  <span class="k">return</span>  <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Recall that the <code>main</code> function is special. The <code>main</code> function is always
where program execution starts; in other words, the <code>main</code> function is
always the first function to be called in any C program. Lines 11-13 are
variable initialization statements. Line 13 calls the <code>avg</code> function with
the values in variables <code>a</code> and <code>b</code>, and then the return value is used to
initialize variable <code>c</code>. Line 14 calls the <code>printf</code> function to display
text on the screen. The <code>printf</code> function is defined in the <em>C standard
library</em> which is usually included along with every C compiler. More
specifically, the <code>printf</code> function declaration is in a separate <em>header
file</em> which is included on Line 1 using the C preprocessor. We will learn
more about the C preprocessor later in this tutorial. The <code>printf</code>
function always takes a format string as the first parameter, and then
takes a variable number of parameters that are evaluated and substituted
into the format string. The format string includes <em>format specifiers</em>
(i.e., special codes) to indicate where to substitute these values. In
this example, we are using the <code>%d</code> format specifier to indicate that we
would like to substitute an integer into the format string. The format
string can also include other special codes; for example, this format
string includes a newline special code (<code>\n</code>) which results in a line
break. The return value of the <code>main</code> function is used as the <em>exit
status</em> of the program; this is a way for a C program to tell the
operating system whether or not the program ended successfully (by
returning zero) or something went wrong (by returning a non-zero value).</p>
<p>Enter the <code>avg</code> and <code>main</code> functions into Repl.it and then use the <em>run</em>
button to compile and execute this C program. Try initializing <code>a</code> to 10
and <code>b</code> to 15. The average of these two integers is 12.5, but our program
currently does not support arithmetic on non-integer values. In this
case, the division operator (i.e., <code>/</code>) truncates the result by always
rounding towards zero. Quickly experimenting with small C programs can
help illustrate subtle issues in C syntax and semantics.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Write a simple function named <code>avg3</code> to average three integers. Use
Compiler Explorer to examine the corresponding machine instructions
and identify how the <code>+</code> operators in the C program maps to <code>add</code>
machine instructions. Use Repl.it to compile and execute a program
with the <code>avg3</code> function and a <code>main</code> function to call the average
function and print its result. Experiment with averaging negative
numbers, especially negative numbers where ideally the result would
not be an integer (e.g., <code>-7</code>, <code>-5</code>, and <code>-4</code>).</p>
</div>
<div class="admonition question">
<p class="admonition-title">Problem 1.1: Writing an <code>avg3</code> function</p>
<p>Here is a programming question</p>
<p><a href="https://repl.it/@cbatten/ece2400-T01-ex1"><img alt="Repl.it" src="../img/replit.png" /></a></p>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
        
          <a href="../ece2400-sec1-linux-git/" title="Section 1: Linux and Git" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Section 1: Linux and Git
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 Christopher Batten
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0.3",url:{base:".."}})</script>
      
        <script src="../docs/js/extra.js"></script>
      
    
    
      
    
  </body>
</html>