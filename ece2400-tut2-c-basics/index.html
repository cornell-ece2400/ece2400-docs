



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="Christopher Batten">
      
      <link rel="shortcut icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.13">
    
    
      
        <title>Ece2400 tut2 c basics - ECE 2400 Section Handouts</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.077507d7.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.ff0a5ce4.min.css">
      
      
        
        
        <meta name="theme-color" content="#2094f3">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tutorial-2-compiling-and-running-c-programs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="ECE 2400 Section Handouts" class="md-header-nav__button md-logo" aria-label="ECE 2400 Section Handouts">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ECE 2400 Section Handouts
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Ece2400 tut2 c basics
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/cornell-ece2400/ece2400-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    cornell-ece2400/ece2400-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ECE 2400 Section Handouts" class="md-nav__button md-logo" aria-label="ECE 2400 Section Handouts">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ECE 2400 Section Handouts
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/cornell-ece2400/ece2400-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    cornell-ece2400/ece2400-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../ece2400-sec1-linux/" title="Section 1: Linux Development Environment" class="md-nav__link">
      Section 1: Linux Development Environment
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ece2400-sec2-c-basics/" title="Section 2: Compiling and Running C Programs" class="md-nav__link">
      Section 2: Compiling and Running C Programs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ece2400-sec3-c-build-test/" title="Section 3: C Build and Test Frameworks" class="md-nav__link">
      Section 3: C Build and Test Frameworks
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-using-the-c-preprocessor" class="md-nav__link">
    1. Using the C Preprocessor
  </a>
  
    <nav class="md-nav" aria-label="1. Using the C Preprocessor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-the-define-directive" class="md-nav__link">
    1.1. The #define Directive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-the-ifdef-directive" class="md-nav__link">
    1.2. The #ifdef Directive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-the-include-directive" class="md-nav__link">
    1.3. The #include Directive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-include-guards" class="md-nav__link">
    1.4. Include Guards
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-writing-a-single-file-c-program" class="md-nav__link">
    2. Writing a Single-File C Program
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-compiling-a-single-file-c-program" class="md-nav__link">
    3. Compiling a Single-File C Program
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-writing-a-multi-file-c-program" class="md-nav__link">
    4. Writing a Multi-File C Program
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-compiling-a-multi-file-c-program" class="md-nav__link">
    5. Compiling a Multi-File C Program
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/cornell-ece2400/ece2400-docs/edit/master/docs/ece2400-tut2-c-basics.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="tutorial-2-compiling-and-running-c-programs">Tutorial 2 : Compiling and Running C Programs<a class="headerlink" href="#tutorial-2-compiling-and-running-c-programs" title="Permanent link">&para;</a></h1>
<p>The first few programming assignments for this course will use the C
programming language. In lecture we use Compiler Explorer and Repl.it to
quickly experiment with small C programs, but eventually we need to
actually write and compile C programs on a real machine. This tutorial
discusses how we can use the open-source GNU C compiler (<code>gcc</code>) to
compile our C programs on the \TT{ecelinux} machines. We will experiment
with both single-file C programs (simple but not representative of real C
projects) and multi-file programs (more complex but also more realistic).
In this tutorial, we will be running \TT{gcc} directly from the command
line so we can understand each step. In the next tutorial, we will see
how we can use various tools to automate this process. All of the tools
are installed and available on the <code>ecelinux</code> machines. This tutorial
assumes that students have completed the tutorial on Linux and Git. We
strongly recommend students also read Chapters 1-6 in the course text
book, <em>``All of Programming,''</em> by A. Hilton and A. Bracy (2015).
Chapters 5-6 are particularly relevant since they discuss the general
process of compiling, testing, and debugging C programs.</p>
<p>To follow along with the tutorial, access the course computing resources,
and type the commands without the <code>%</code> character (for the <code>bash</code> prompt).
In addition to working through the commands in the tutorial, you should
also try the more open-ended tasks marked <em>To-Do On Your Own</em>. Before you
begin, make sure that you have <strong>sourced the setup-ece2400.sh script</strong> or
that you have added it to your <code>.bashrc</code> script, which will then source
the script every time you login. Sourcing the setup script sets up the
environment required for this class.</p>
<p>You should start by forking the tutorial repository on GitHub. Go to the
GitHub page for the tutorial repository located here:
<a href="https://github.com/cornell-ece2400/ece2400-tut2-c-basics">https://github.com/cornell-ece2400/ece2400-tut2-c-basics</a>. Click on
<em>Fork</em> in the upper right-hand corner. If asked where to fork this
repository, choose your personal GitHub account. After a few seconds, you
should have a new repository in your account:
<code>https://github.com/githubid/ece2400-tut2-c-basics</code> Where <code>githubid</code> is
your GitHub username on <a href="">github.com</a>. Now access an <code>ecelinux</code> machine
and clone your copy of the tutorial repository as follows:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>% <span class="nb">source</span> setup-ece2400.sh
% mkdir -p <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2400
% <span class="nb">cd</span> <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2400
% git clone https://github.com/githubid/ece2400-tut3-c-basics.git tut3
% <span class="nb">cd</span> tut3
% <span class="nv">TUTROOT</span><span class="o">=</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>
</code></pre></div>
</td></tr></table>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It should be possible to experiment with this tutorial even if you
are not enrolled in the course and/or do not have access to the
course computing resources. All of the code for the tutorial is
located on GitHub. You will not use the <code>setup-ece2400.sh</code> script,
and your specific environment may be different from what is assumed
in this tutorial.</p>
</div>
<h2 id="1-using-the-c-preprocessor">1. Using the C Preprocessor<a class="headerlink" href="#1-using-the-c-preprocessor" title="Permanent link">&para;</a></h2>
<p>Before we can understand how to write and compile C programs, we need to
understand the C preprocessor. The preprocessor takes an input C source
file, preprocesses it, and generates the preprocessed version of the C
source file. It is important to realize that the C preprocesor is not
really part of the C programming language. The C preprocessor simply
manipulates the text in the C source files and knows nothing about the C
programming language's syntax or semantics. The C preprocessor is
powerful but also very easy to abuse. Using the C preprocessor can cause
subtle bugs and is usually not necessary. Unfortunately, there are a few
cases where we have no choice but to use the C preprocessor, so we must
learn at least the basics. You can find out more about the C preprocessor
here:</p>
<ul>
<li><a href="http://en.cppreference.com/w/c/preprocessor">http://en.cppreference.com/w/c/preprocessor</a></li>
<li><a href="https://en.wikibooks.org/wiki/C_Programming/Preprocessor">https://en.wikibooks.org/wiki/C_Programming/Preprocessor</a></li>
</ul>
<h3 id="11-the-define-directive">1.1. The <code>#define</code> Directive<a class="headerlink" href="#11-the-define-directive" title="Permanent link">&para;</a></h3>
<p>The best way to understand the C preprocessor is actually to use it to
preprocess standard text files as opposed to C source files. Assume we
are writing a report on the history of Cornell University, and we
have a common snippet of text that we use often in our text file.</p>
<ul>
<li>text with many of same code</li>
<li>define that</li>
<li>mention ALL_CAPS</li>
<li>define with argument</li>
</ul>
<p>try to avoid this -- will see it in our test macros</p>
<h3 id="12-the-ifdef-directive">1.2. The <code>#ifdef</code> Directive<a class="headerlink" href="#12-the-ifdef-directive" title="Permanent link">&para;</a></h3>
<h3 id="13-the-include-directive">1.3. The <code>#include</code> Directive<a class="headerlink" href="#13-the-include-directive" title="Permanent link">&para;</a></h3>
<p>The best way to understand the C preprocessor is actually to use it to
preprocess standard text files as opposed to C source files. Assume we
wish to create a text file which lists pioneering women and men in the
field of computer science. We might start with a text file of pioneering
women:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>==========================================================================
Pioneers in Computer Science
==========================================================================
Computer science is a relatively recent field which focuses on the
theory, experimentation, and engineering that form the basis for the
design and use of computers. Here is a very small subset of the many
individuals who helped in the creation, development, and imagining of
what computers and electronics could do.

 - Eva Tardos        : fundamental contributions to algorithm analysis
 - Mary Jane Irwin   : early work on design automation and computer arch
 - Barbara Liskov    : fundamental contributions to obj-oriented progr
 - Frances Allen     : pioneer in optimizing compilers
 - Grace Hopper      : pioneer in computer prog and high-level languages
 - Jean Bartik       : one of the first computer programmers
 - Ada Lovelace      : began the study of scientific computation
</code></pre></div>
</td></tr></table>

<p>and a separate text file of pioneering men:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>==========================================================================
Pioneers in Computer Science
==========================================================================
Computer science is a relatively recent field which focuses on the
theory, experimentation, and engineering that form the basis for the
design and use of computers. Here is a very small subset of the many
individuals who helped in the creation, development, and imagining of
what computers and electronics could do.

 - Donald Knuth      : fundamental contributions to algorithm analysis
 - John Mauchly      : designed and built first modern computer
 - J. Presper Eckert : designed and built first modern computer
 - John Von Neumann  : formulated the von Neumann architecture
 - Maurice Wilkes    : built first practical stored program computer
 - Alan Turing       : invented Turning model, stored program concept
 - Charles Babbage   : originated concept of programmable computer
</code></pre></div>
</td></tr></table>

<p>These two files require some duplication, since both files include a
short introductory paragraph. To avoid this redundancy, we can first
refactor this introductory paragraph into its own dedicated text file,
and we can then use the C processor to <em>include</em> this file at the
beginning of each list of pioneers. This new approach is illustrated
below. First, we have a file named <code>cs-pioneers-intro.txt</code> with the
introductory paragraph.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>==========================================================================
Pioneers in Computer Science
==========================================================================
Computer science is a relatively recent field which focuses on the
theory, experimentation, and engineering that form the basis for the
design and use of computers. Here is a very small subset of the many
individuals who helped in the creation, development, and imagining of
what computers and electronics could do.
</code></pre></div>
</td></tr></table>

<p>Then, we have a file named <code>cs-pioneers-women-in.txt</code> containing a list
of pioneering women in computer science:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>#include &quot;cs-pioneers-intro.txt&quot;

 - Eva Tardos        : fundamental contributions to algorithm analysis
 - Mary Jane Irwin   : early work on design automation and computer arch
 - Barbara Liskov    : fundamental contributions to obj-oriented progr
 - Frances Allen     : pioneer in optimizing compilers
 - Grace Hopper      : pioneer in computer prog and high-level languages
 - Jean Bartik       : one of the first computer programmers
 - Ada Lovelace      : began the study of scientific computation
</code></pre></div>
</td></tr></table>

<p>Finally, we have a file named <code>cs-pioneers-men-in.txt</code> containing a list
of pioneering men in computer science:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>#include &quot;cs-pioneers-intro.txt&quot;

 - Donald Knuth      : fundamental contributions to algorithm analysis
 - John Mauchly      : designed and built first modern computer
 - J. Presper Eckert : designed and built first modern computer
 - John Von Neumann  : formulated the von Neumann architecture
 - Maurice Wilkes    : built first practical stored program computer
 - Alan Turing       : invented Turning model, stored program concept
 - Charles Babbage   : originated concept of programmable computer
</code></pre></div>
</td></tr></table>

<p>We can then use the C preprocessor to <em>preprocess</em> these files. The C
preprocessor copies the input source file to the output source file,
while also looking for <em>C preprocessor directives</em>. All C preprocessor
directives begin with the special <code>#</code> character. Line 1 in
<code>cs-pioneers-women-in.txt</code> and <code>cs-pioneers-men-in.txt</code> uses the
<code>#include</code> directive which specifies the file name of a different text
file to include. The file name should be be specified using double quotes
(<code>""</code>).</p>
<p>You should have already cloned the tutorial repository and set the
<code>TUTROOT</code> environment variable at the beginning of this tutorial. Let's
make a new directory to work in for this section:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>% mkdir <span class="si">${</span><span class="nv">TUTROOT</span><span class="si">}</span>/tut3-cpp
% <span class="nb">cd</span> <span class="si">${</span><span class="nv">TUTROOT</span><span class="si">}</span>/tut3-cpp
</code></pre></div>
</td></tr></table>

<p>Now create the three text files mentioned above: <code>cs-pioneers-intro.txt</code>,
<code>cs-pioneers-women-in.txt</code>, and <code>cs-pioneers-men-in.txt</code> using Geany or
the text editor of your choice. See the first tutorial for more on using
Geany or other text editors. The three files should be in the <code>tut3-cpp</code>
subdirectory. All text files have a <code>.txt</code> filename extension. In
general, we prefer using dashes (<code>-</code>) instead of underscores to separate
words in file names.</p>
<p>Let's use the C preprocessor (<code>cpp</code>) to preprocess the <code>-in.txt</code> files
into two final text files that contain both the introductory paragraph
and the list of pionners in computer science.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>% <span class="nb">cd</span> <span class="si">${</span><span class="nv">TUTROOT</span><span class="si">}</span>/tut3-cpp
% cpp -o cs-pioneers-women.txt cs-pioneers-women-in.txt
% cat cs-pioneers-women.txt
% cpp -o cs-pioneers-men.txt cs-pioneers-men-in.txt
% cat cs-pioneers-men.txt
</code></pre></div>
</td></tr></table>

<p>The <code>-o</code> command line option is used to specify the name of the output
file. The outpfile <code>cs-pioneers-women.txt</code> should look like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code># 1 &quot;cs-pioneers-women-in.txt&quot;
# 1 &quot;&lt;built-in&gt;&quot;
# 1 &quot;&lt;command-line&gt;&quot;
# 1 &quot;cs-pioneers-women-in.txt&quot;
# 1 &quot;cs-pioneers-intro.txt&quot; 1


==========================================================================
Pioneers in Computer Science
==========================================================================
Computer science is a relatively recent field which focuses on the
theory, experimentation, and engineering that form the basis for the
design and use of computers. Here is a very small subset of the many
individuals who helped in the creation, development, and imagining of
what computers and electronics could do.
# 2 &quot;cs-pioneers-women-in.txt&quot; 2
 - Eva Tardos : fundamental contributions to algorithm analysis
 - Mary Jane Irwin : early work on design automation and computer arch
 - Barbara Liskov : fundamental contributions to obj-oriented progr
 - Frances Allen : pioneer in optimizing compilers
 - Grace Hopper : pioneer in computer prog and high-level languages
 - Jean Bartik : one of the first computer programmers
 - Ada Lovelace : began the study of scientific computation
</code></pre></div>
</td></tr></table>

<p>The C preprocessor included the introductory paragraph correctly, but it
has also included some additional lines beginning with the <code>#</code> character
to specify information about where all of the pieces of text originally
came from. For example, Line 5 indicates that the introductory paragraph
came from the <code>cs-pioneers-intro.txt</code> file. We can tell the <code>cpp</code> to not
include this extra metadata with the <code>-P</code> command line option.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>% <span class="nb">cd</span> <span class="si">${</span><span class="nv">TUTROOT</span><span class="si">}</span>/tut3-cpp
% cpp -P -o cs-pioneers-women.txt cs-pioneers-women-in.txt
% cat cs-pioneers-women.txt
% cpp -P -o cs-pioneers-men.txt cs-pioneers-men-in.txt
% cat cs-pioneers-men.txt
</code></pre></div>
</td></tr></table>

<p>This example illustrates the first way we will use the C preprocessor. We
will use the <code>#include</code> directive to include common C source files in
several of our own C source files. This approach avoids redundancy and
makes our programs much easier to maintain since we can make changes in a
single C source file, and those changes can be immediately reflected in
any program which includes that C source file. We have actually already
seen this use of the C preprocessor in the previous section when we
included the \TT{stdio.h} header file which includes the declaration of
the \TT{printf} function (see Line~1 in
Figure~\ref{fig-tut3-code-avg-main}). If the file in an \verb|#include|
directive is specified using angle brackets (\TT{&lt;&gt;}) then this tells the
C preprocessor that the file to include is part of the system and is
installed in a default location. If the given file is specified using
double quotes (\TT{""}), then this tells the C preprocessor that the file
to be included is part of the user program. The C preprocessor does not
automatically know where to find extra user files, so we might need to
add extra command line options to \TT{cpp} to tell the C preprocessor
where to search for files.</p>
<h3 id="14-include-guards">1.4. Include Guards<a class="headerlink" href="#14-include-guards" title="Permanent link">&para;</a></h3>
<h2 id="2-writing-a-single-file-c-program">2. Writing a Single-File C Program<a class="headerlink" href="#2-writing-a-single-file-c-program" title="Permanent link">&para;</a></h2>
<h2 id="3-compiling-a-single-file-c-program">3. Compiling a Single-File C Program<a class="headerlink" href="#3-compiling-a-single-file-c-program" title="Permanent link">&para;</a></h2>
<h2 id="4-writing-a-multi-file-c-program">4. Writing a Multi-File C Program<a class="headerlink" href="#4-writing-a-multi-file-c-program" title="Permanent link">&para;</a></h2>
<h2 id="5-compiling-a-multi-file-c-program">5. Compiling a Multi-File C Program<a class="headerlink" href="#5-compiling-a-multi-file-c-program" title="Permanent link">&para;</a></h2>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 Christopher Batten
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.2d1db4bd.min.js"></script>
      <script src="../assets/javascripts/bundle.6627ddf3.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../js/extras.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>