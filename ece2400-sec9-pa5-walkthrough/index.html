



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
        <meta name="author" content="Christopher Batten">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.3, mkdocs-material-3.0.3">
    
    
      
        <title>Ece2400 sec9 pa5 walkthrough - ECE 2400 / ENGRD 2140 Computer Systems Programming Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../#section-9-pa-5-walkthrough" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="ECE 2400 / ENGRD 2140 Computer Systems Programming Docs" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                ECE 2400 / ENGRD 2140 Computer Systems Programming Docs
              </span>
              <span class="md-header-nav__topic">
                Ece2400 sec9 pa5 walkthrough
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/cornell-ece2400/ece2400-docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      cornell-ece2400/ece2400-docs
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

<nav class="md-tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../ece2400-T01-intro-c/" title="Topic Notes" class="md-tabs__link">
          Topic Notes
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../ece2400-sec1-linux/" title="Section Notes" class="md-tabs__link">
          Section Notes
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="ECE 2400 / ENGRD 2140 Computer Systems Programming Docs" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    ECE 2400 / ENGRD 2140 Computer Systems Programming Docs
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/cornell-ece2400/ece2400-docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      cornell-ece2400/ece2400-docs
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Topic Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Topic Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ece2400-T01-intro-c/" title="Topic 1: Introduction to C" class="md-nav__link">
      Topic 1: Introduction to C
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ece2400-T02-c-recursion/" title="Topic 2: C Recursion" class="md-nav__link">
      Topic 2: C Recursion
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Section Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Section Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ece2400-sec1-linux/" title="Section 1: Linux Development Environment" class="md-nav__link">
      Section 1: Linux Development Environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ece2400-sec2-c-basics/" title="Section 2: Compiling and Running C Programs" class="md-nav__link">
      Section 2: Compiling and Running C Programs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ece2400-sec3-c-build-test/" title="Section 3: C Build and Test Frameworks" class="md-nav__link">
      Section 3: C Build and Test Frameworks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ece2400-sec4-c-test-debug/" title="Section 4: C Testing and Debugging" class="md-nav__link">
      Section 4: C Testing and Debugging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ece2400-sec5-c-profiling/" title="Section 5: C Profiling for Performance and Memory Usage" class="md-nav__link">
      Section 5: C Profiling for Performance and Memory Usage
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/cornell-ece2400/ece2400-docs/edit/master/docs/ece2400-sec9-pa5-walkthrough.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="section-9-pa-5-walkthrough">Section 9: PA 5 Walkthrough<a class="headerlink" href="#section-9-pa-5-walkthrough" title="Permanent link">&para;</a></h1>
<p>The goal of this discussion section is to help you get started in PA 5. In
this section, we will get familiar with some utility classes provided in
the PA, and implement a brute-force version of the KNN algorithm (i.e., K
is limited to 1) to find the nearest neighbor of a given point in a point
dataset.</p>
<p>Before you start, let's source our setup script like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">% source setup-ece2400.sh</span>
</pre></div>
</td></tr></table>

<p>Now clone the github repo for this discussion section. No need to fork the
repo, just clone it.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">% mkdir -p ${HOME}/ece2400</span>
<span class="c">% cd ${HOME}/ece2400</span>
<span class="c">% git clone git@github.com:cornell-ece2400/ece2400-sec9-pa5-walkthrough.git sec9</span>
<span class="c">% cd sec9</span>
<span class="c">% ls</span>
</pre></div>
</td></tr></table>

<p>You will see the following files in the directory:</p>
<ul>
<li><code>CMakeLists.txt</code>: CMake build configuration file</li>
<li><code>src/constants.h</code>: header file declaring some necessary constants</li>
<li><code>src/digits.dat</code>: a small image dataset</li>
<li><code>src/knn-brute-force.h</code>: header file declaring <code>knn</code> function</li>
<li><code>src/knn-brute-force.cc</code>: source file implementing the <code>knn</code> function</li>
<li><code>src/point.h</code>: header file containing definition of <code>Point</code> class</li>
<li><code>src/drawing.h</code>: header file containing definition of <code>Drawing</code> class</li>
<li><code>src/types.h</code>: header file declaring <code>Image</code>, <code>Label</code>, and <code>LabledImage</code>
  class</li>
<li><code>src/types.cc</code> and <code>src/types.inl</code>: source file implementing <code>Image</code>,
  <code>Label</code>, and <code>LabledImage</code> class and some inline functions</li>
<li><code>src/types-adhoc.cc</code>: an ad-hoc program that uses classes declared in
  <code>src/types.h</code></li>
<li><code>tests/knn-test.cc</code>: test program for the <code>knn</code> function</li>
<li><code>tests/utst.h</code>: unit testing macros</li>
</ul>
<p><strong>1. Part 1: Getting familiar with Image, Label, and LabeledImage classes</strong></p>
<p>Before you start this part, read section 2.1 in the <a href="https://www.csl.cornell.edu/courses/ece2400/handouts/ece2400-pa5-sys.pdf">PA 5's
handout</a>
to understand: (1) the interface of <code>Image</code>, <code>Label</code>, and <code>LabledImage</code>
classes, (2) what they do, and (3) member functions that you will use in
the PA.</p>
<p>We provide some small activities in <code>src/types-adhoc.cc</code> for you to
practice using some member functions in the three classes. Instructions are
provided in the code.</p>
<p>After you complete each activity, you can run <code>types-adhoc</code> like this to
see results on your terminal:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">% cd ${HOME}/ece2400/sec9</span>
<span class="c">% mkdir -p build</span>
<span class="c">% cd build</span>
<span class="c">% cmake ..</span>
<span class="c">% make run-types-adhoc</span>
</pre></div>
</td></tr></table>

<p><strong>2. Part 2: Brainstorming and implementing HandwritingRecSysClassifyOnes</strong></p>
<p>Now let's start working on the first part of your PA. Read the section 2.3
in the <a href="https://www.csl.cornell.edu/courses/ece2400/handouts/ece2400-pa5-sys.pdf">PA's
handout</a>
to understand what you are asked to implement for this part. Basically you
will implement a system that can only classify images of ones. This system
does not use any training dataset to do the classification, but uses an
algorithmic approach instead.</p>
<p>Think about if you're given an image of an unlabeled handwritten digit. How
can you recognize if the digit is <code>1</code> or not? See the following figures of
digit <code>1</code> and <code>2</code> represented as 2-D arrays of pixel values. Discuss your
solutions with the rest of the class.</p>
<p><img alt="Digit 1" src="../img/pa5-digit-1.JPG" /></p>
<p><img alt="Digit 2" src="../img/pa5-digit-2.JPG" /></p>
<p>Now clone your group's repo like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">% cd ~/ece2400</span>
<span class="c">% git clone git@github.com:cornell-ece2400/group_&lt;group-id&gt;</span>
<span class="c">% cd group_&lt;group-id&gt;</span>
</pre></div>
</td></tr></table>

<p>Start implementing your algorithm in <code>src/hrs-ones.cc</code>.</p>
<p><strong>3. Part 3: Implementing a KNN algorithm working with Point (take-home
exercise)</strong></p>
<p>In this part, we go back to the section 9's repository.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">% cd ~/ece2400/sec9</span>
</pre></div>
</td></tr></table>

<p>Before you start working on this part, read section 2.4 in the <a href="https://www.csl.cornell.edu/courses/ece2400/handouts/ece2400-pa5-sys.pdf">PA 5's
handout</a>
to understand the following concepts:</p>
<ul>
<li>KNN algorithm</li>
<li>Euclidean distance</li>
<li>How to calculate the Euclidean distance between two points</li>
</ul>
<p>Then, you will implement a simple KNN algorithm that takes a dataset of
points and a target point, and returns the point nearest to the target
point in the dataset. It's essentially the KNN algorithm with K equal to
one.</p>
<p>A brute-force implementation of the KNN algorithm simply computes the
distance between the target point and every single point in the dataset. It
returns the point that is closest to the target point.</p>
<p>After you complete your implementation, add more tests in
<code>tests/knn-test.cc</code>. Look at the given test case. You will see that we use
<code>Drawing</code> class to draw points on the terminal so that you can visualize
where your points are in a 2-D space. Play around with this drawing
feature. It will become handy when you work on your PA 5.</p>
<p>You can run the test like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">% cd ${HOME}/ece2400/sec9</span>
<span class="c">% mkdir -p build</span>
<span class="c">% cd build</span>
<span class="c">% cmake ..</span>
<span class="c">% make check-knn</span>
</pre></div>
</td></tr></table>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 Christopher Batten
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0.3",url:{base:".."}})</script>
      
        <script src="../js/extras.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
    
      
    
  </body>
</html>